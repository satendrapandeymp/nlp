hello guys welcome once again in this video I will show you how to open a directory and lift out all the folders and files in that directory in this list box so suppose you have some folder you have some folder again in that folder or directory and you have some files so if it's the mixture of files and folder in the root folder or whatever you selected and you want to lift out in this list box for how can you do it I will show you so just take a button this is a simple button and I renamed it and resized it and this is a list box you can find it here in the toolbox just this button and just this list box you have to take and now click this button and double click it and in here we are going to write the code first of all what you need to do is you need to import this using directive so write using system dot IO because we are dealing with files and folders so we need this using directive and in this button click event I have already written a small code to open folder browser dialogue so this folder browser dialog will open your folder dialog so that you can select the directory from this folder dialog and so what I have done is I have written folder browser dialog and I have given that name is equal to new folder dialog and I am checking if my folder dialog or my selected path from the dialog is correct or not and if it's correct now I will write my code for listing the files and folder in this list box so first of all I will what I will do is I will clear the listbox if I want to use it again and again so I will write list box once again list box dot items dot clear so it will clear the list box first and now what I will do is I will declare two strings so I am write string array files the first string will contains the pile names and then I will write directory dot get piles and bracket and bracket close and then I will pass argument here so just copy this file folder browser dialog object dot selected path ok so this is the array which will contain the all the files which are there inside the selected directory now I want to make RA so I will copy it once again and paste it here and now I want to make a array which will hold all the directories in that selected directory so I will write the string name as directories dir f does and here instead of get files I will write directory dot get directories ok and this will remain the same so now I have all the files and directories inside my arrays now I just want to show in this list box so I will write for each once again for each and I will make a string variable here so I will write string pile in my file array so I'm searching files in my file array then I will just close this and I will add those file in my directory so what I will do is list box dot add dot items dot add so items not add and you can just copy this file variable and paste it here this is not files which is our array but this file variable ok in the same way I will copy this for each loop once again and paste is just below my other loop and I will write here the IR for directory and I will just copy this Derrick dirs array and paste it here so I'm listing all the directories and now I will copy this directory here so it will add all the files in the list box and all the directories in the list box right so this is the code to list out all the files and folder in the directory and in the list box so let's run our program and it's running now I will just select a folder open folder browser and I will select a folder so I will select this folder and I click OK and it will list out all the files you can see J dot jpg dot XML and it also lists out all the directories also and if you want don't want to show this whole path you just want to show the file name only and directory name only and you don't want to show the whole path what you can do is you can just go here and just close this file in the bracket one more brackets so add this bracket and right here path dot get file name and same thing you can do it with this directory here so write directory just enclose it in other bracket and just paste it here now when we run the program it's showing some error let's see what what is this yeah we are short of 1 bracket so now when I run the program and I select the same directory and I open it it just shows the file names and directory names it doesn't show the whole path of the file and directories so in this way you can list out all the files and folder in the selected directory in the list box I hope you have enjoyed this video please keep watching these videos and please rate comment and subscribe and bye for now		