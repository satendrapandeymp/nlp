this is part 67 of JavaScript tutorial in this video we'll discuss water cookies and why are they needed how to write a cookie and read it later first let's understand why a cookie is needed web applications work on HTTP protocol HTTP is a stateless protocol this means after the web server has processed the client requests for a web page the web server will not remember anything about the client that made the request let's understand what we mean by the statement with an example let's design a web page with a drop-down list and we want this drop-down list to display three colors red green and blue once we select a color from the drop-down list we want to set that selected color as the background color for our web page for example if we select red from the drop-down list then we want to set that red color as the background color for our web page and on a subsequent visit to the same page it should display the page with a background color that we previously selected so it should remember our color preference let's see if that's going to be the behavior let's flip to visual studio so here we have a select element with four options the first option is select color and then we have those three colors red green and blue so when we're on this page we should get a drop-down list with those four options so the first option is select color and then we have those three colors now whenever the selection within the drop-down list changes so if I select one of these three colors then we want to set that selected color as the background color for this web page so let's write a JavaScript function for that and let's name that set color within this function let's create a variable let's name the selected color so we are going to retrieve the color that the user has selected from this drop-down list DDL theme so basically this variable now will contain the selection that the user has made in from the drop-down list so if selected color is not equal to select color then that means the user has selected one of these three colors in that case we want to set the BG color attribute of the document object to the color that the user has selected from the drop-down list and then we want to call this function whenever the selection within the drop-down list changes so on change call set color function let's save these changes reload the page and look at this when we select green the background color is changed to green so that's our color preference when we make a subsequent visit we want the browser to remember our color preference so let's open a new tab make another request to the page and look at that it does not remember our color preference why is that that's because web applications work on HTTP protocol and HTTP is a stateless protocol this means after the webserver has processed the initial request it does not remember anything about the settings declined made there are several ways to make a web application remember these settings one of the easiest and common ways is by using cookies so what are cookies cookies are small text files that a browser stores in the visitors computer a cookie is basically a string of name value pairs separated by semicolons and this is how a typical cookie looks like so within this cookie we've got to name value pairs the first name value pair is color equals red and the second name value pair is expires equals some date and time and UTC and notice these two name value pairs are separated by a semicolon basically this expires attribute specifies when the cookie is going to expire by default cookies are deleted when the current browser session and if you want to store the cookie on the client computer even after the browser session has ended then specify either expires or max-age attributes we'll discuss the difference between these two attributes in our next video for now understand that to create a persistent cookie you have to use one of those two attributes expires our max age and we have set color attribute in this case to red now to write a cookie to the client computer we use the cookie property of the document object so this line right here is going to write this cookie to the client computer and to read a cookie we use again the same property cookie property of the document object so in this case the cookie will be loaded into this variable so let's look at an example of how to read write and read it okay so let's flip to visual studio let's change the name of this function to set color cookie and let's change the name here as well so now to write the cookie to the client computer we use the cookie property of the document object and within the cookie we want to show the color preference so I'm going to name it color you can give it any meaningful name you want color equals whatever color the user has selected from the drop-down list and we have that value within this variable selected color and then so for example if we select red from the drop-down list color equals red and then that name value pair should be separated by a semicolon and then we specify the expires attribute keep in mind expires attribute is optional if you don't specify expires attribute then the cookie will be deleted right away after you close the browser but if you want to create a persistent cookie then you will have to use one of those two attributes expires are max age let's use expires attribute and let's set this to Friday 5th August 2016 and the cookie is going to expire at 1 a.m. one hour zero minutes zero seconds and the date and time is to go it's going to be a new TC format so basically we are going to store this cookie on the client computer now so now the cookie contains the users color preference now when we make a subsequent visit we want to read the color preference from that cookie and then set that color as the background color for the web page so window dot onload equals we want to execute an anonymous function and this function is going to read the cookie so document dot cookie is going to return the key but remember cookies have expiry so when cookies expire and if the cookie is not present then this cookie property is going to return an empty string so if document dot cookie dot length not equal to zero then we know that the cookie is present and in that case we want to retrieve the color value and then set that as the background color for our webpage so let's create a variable here and let's name this name value array equals document dot cookie so basically this cookie property is going to return in a color equals whatever color we have selected okay for example if we select red it's going to return us color equals red from that name value pair we just want the value which is red okay so within the string color equals red you know the separator is equal to so we want to split the string based on that equal to symbol so document dot cookie dot split the separator is going to be equal to so the split method is actually going to return us an array and within that array you know they're going to be two items two strings so the first string is going to be disc word color and the second string is going to be the actual color value okay so once we have the array then we are going to set B the color of the document to name value array of one so give me the string that is present in array index position one in 0 at position of the array we have color and in the first position we have the actual color value which is red and we also want to set the same item selected within the drop-down list so document dot get element by ID the ID of the drop-down list is DDR theme dot value equals name value array of one all right so let's throw in a break point in both of these functions and let's run this in debug mode at the moment we don't have any cookie set so when this piece of code is executed look at this when I hover the mouse over document dot cookie it does not return anything it returns an empty string okay so it's not going to go inside the safe block because the length will will be equal to zero so let's press f10 so it gets out of that function now let's go ahead and select the color so let's select blue for example so this function will be called set color cookie so let's + f10 so our selected color is blue and let's press f5 so now look at that blue is the color now let's actually reload this page and now when I have the mouse over this cookie property look at what it is returning color equals blue so the cookie is returning that string color equals blue and on the next line what are we doing we're actually the cookie using the equal to symbol so we are going to get back two strings okay so this array is going to contain two strings so name value pair look at that within the zero eight position it contains color and width in the first position it contains the actual color value which is blue and then name value array of one is going to give us blue and we are setting that as the background color so when I plus f5 look at that the background color is blue the drop-down list remembers the selection so even after I close the browser and open a new browser instance and then when we navigate to the same page look at that it still remembers of a color selection and that's possible because we are storing that user preference in a cookie on the client computer so to store a cookie we use document dot cookie and to read a cookie we use document dot cookie and here is the same example that we just discussed thank you for listening and have a great day		