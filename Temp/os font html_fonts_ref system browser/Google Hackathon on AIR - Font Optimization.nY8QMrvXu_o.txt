ujin's good hey guys sorry for the small delay and we're looking forward to start and the hackathon on air today with you guys so let me quickly introduce ourselves so that you guys know who we are and what we like to talk with you chat with you about keeping us questions try to go in a couple of concepts today so I'm Lukas from the mobile site transformation and team from Google and what we do is we meet Google clients across different verticals across the different markets and try to optimize and suggest optimization techniques for the mobile websites to get them faster and with me I have today a my colleague Dominique why are some Dom like I'm basically also mobile mobile UX manager at Google doing the same as Lukas just for a different market and we basically put together a presentation and just basically running through it together answer all your questions and yeah yeah and because we see various clients basically on a daily basis we and we seem the topic of font optimizations using web forms or use the system points whichever way people are using fonts to as an interesting topic to actually use it as a deeper insight in order to just gain a couple of maybe milliseconds seconds and also a difference or glowing perception for the user and yeah therefore we want to dive deeper into that topic but I just want to quickly recap maybe for the ones who haven't been there last time just as sort of as a as a framework for this we run those sessions about once a month and I just want to recap a little bit about why our team cares so much about Mobile's even why our team sees speed not so much as a nice to have but as a core feature of basically every mobile website and I mean there's there's various different different reasons obviously from the different angles that you look at the topic of speed and speed performance there's various reasons to they clearly show us that we should focusing on mobile speed the one is obviously the user experience right so people just really don't like to wait for slow loading pages and basically or in fact it's what they dislike the most dislike the most about their experiences on the web on the mobile device and that reflects back into various metrics being impacted by speed load and what is an interesting thing an interesting insight that we just like to share with basically the teams that we're meeting is just that that is really top of mind is that a Google wide study across let's say nearly 4,000 anonymous anonymous accounts the actual endless 3.7 K the study showed that 53 percent of users will leave a site if it takes longer than 3 seconds to load right and therefore we think is really important to look into all the different ways we can get content quicker to the screen or we can get the first paint tester on the you port to basically catch those people and to not let them run away while they're seeing in worst case the purely white white screen yeah and I think I just want to give a couple of words on how we in this team measured performance speed performance and sort of then we can dive in a little bit more in detail what we wanted to talk about today so obviously the world of performance has a lot of metrics to look at what we take us again guideline to look at is looking at the speaking mix of the tool webpagetest.org not sure if everybody of you guys have been playing around with webpagetest I'm gonna show a couple of details on how you you can or basically how the Google team sets it up for the testing the testing baseline to test for speed but what we look at is really speed index which gives you sort of an average of how quick you get basically the visual progress of the first viewport are being painted on the screen so if we have for example the speak index of them like in this case 2309 sort of across various tests in that average we have the first sort of a screen filled to to a large percent anything like that covered it so and yeah basically the goal is keeping in mind this is idea that 53% of the users in the leaf side spend it upload longer than three seconds the goal is to really get that speed index as low as we can all right there's different challenges obviously today there's different approaches on how to how to make that happen last week one sorry not last week last month we or last session I should say we spoke about the critical rendering path which is obviously a huge contributor to to how quickly you can actually render something on the screen there and get the viewport filled so if you're interested in that there there should be two to link around for you guys happy to share that afterwards so you can go into that and see how we look into lucrative the rendering path and yeah today we want to focus more on on what font or font optimization in general quick words just to webpagetest.org it's actually a tool built by a Googler so we might be a little biased but we think it's definitely a great tool to have a good testing baseline given that you can emulate I mean always taking the cave of it being a synthetic testing environment you can basically get your testing environment set up the way it suits you sort of the best so you go for URL that you want to test you go for the test location that you want to think you can choose the browsers obviously you can choose the devices that you want to emulate and we usually test on a baseline of three g.fast given that we see that to be sort of a fair experience that weekend I mean the fair experience if we want to test test against because there might be users that are having a better experience but there might also be a lot of users that have much worth worth experience and therefore we we consider three GFS to be the baseline that we aim to test against and sort of say five thousands when we see five thousand speed index should be the maximum that your page reload is in order to be able to deliver the experience in terms of speed that we think or did the numbers suggest not so much everything that the numbers suggest that I suggest to be the most beneficial having the most beneficial repercussions on conversion rates bounce rates this one I think just to eat you out there so like there are a few sites that you can find online where you can test the network coverage in your ear region or in your country and we would highly recommend to do that and just you know see what's the network coverage with 4G 40 plus or 3G because you will be really surprised and as surprised as we were so so if I look at the markers I usually focus on which is Germany for certain providers is it's really like amazing how little 4G coverage there is and that's kind of like why we say we test on 3G this way we kind of find use the worst case and if we optimize for the worst case we kind of create a better experience for like the entire user base that's visiting your site so that's the idea behind it great shadow there just in case we see something coming up and feel free to feel free to to guess to post questions on the chat we try to to answer that because we got the feedback from you guys last time that we went a little bit too quick through different topics so we want to quickly pause after the different things that we raised so that you guys have time to you know ask your questions they should be also at least are somewhere that a couple of team members entering and to be taking on some questions just hide away your questions we'll try to pick them up as as good as we can and there are probably some some guys in there and so we'll try to like just answer all your questions in this session so okay so again that you can achieve a lot by optimizing your speed index is basically what we what we see here right it's nothing I guess after what we just discussed shouldn't be coming as a surprise the lower you get your speed index here the much faster loading I mean the perception really is that the user has or a better the perception is because to you that gets much much quicker content being pushed on the screen and today we really want to talk about not so much from somebody's we talked last last time on how you stopped rendering big blocks but how quick do you get especially texts contents or fonts text that is written in the various fun versions that are out there on the screen and how can you optimize so that the user for example does not have a big orange page with no text coming up or just the headline coming up and the body text being in loading a much later after so we really want to focus on the different ways that we identified to be to be helpful in order to optimize that experience so that the user actually not just get something on the screen but gets the key message that your basic response to transmit yeah so like let's just dive straight in there so basically what we want to cover in this session is kind of like web phone system funds what's the best way of using both can you avoid it can you avoid web where customers can you not avoid it and obviously if we if we talk about web fonts the you know like if you need if you don't need web phones or if you don't require a lot of web fonts or if you can kind of like cut down on characters it's always better like the less resources you need to load the better that the faster your site is and and you know the faster the rendering can happen so basically we just want to start and say can you avoid web fonts if that's the case that's awesome because if we actually look at web fonts then then we quickly realized that while they do offer like a great way of providing some some uniqueness to your side and some you know some some great user experience in terms of like look they're also like limitations so we're we're actually looking at one of the google fonts which which which obviously we think it is you know it is a great fun select a lot of fun for example but the problem is that if you load for example different styles so like you load the default version to have like a fuse as a headline you use the regular version for your body tags use a lighter version or the italic version to like show some quotes the problem what happens is like if you add all those different styles and load it on your site the load time is it's gonna be slow because you just need to load more resources and if you now think about it that you're not just only load laddo but you maybe have a different font for headlines and a different phone for the body text then you kind of like can multiply that by two so that's why we always say if you can avoid web fonts if it's if it's not crucial to your corporate identity the corporate identity of your site then really go with system fonts and and becoming to show you guys an example here so system actually when you style them a little bit they don't even look that bad so so in the case that that's showing on the slide right now we're basically using the the Apple system fond and we just show you what's possible by styling like the system fonts like we we use a different font weight we obviously precise you can even use a bit of letter spacing to create some space in between so like if you're like kind of like a bit creative with the system font you might be able to actually skip the web font it's if what we see often is like that web fonts are used kind of like out of a bit of laziness like oh yeah I don't want to use Times New Roman so I just use a web font not knowing that you can actually you know can find work around it a little look a little bit so that's kind of like the first step if you can avoid a web font please do it your website will definitely render much much quicker because one point to it is also because obviously we see that discussions about that certain type of web fonts are also from an aesthetic or from a design perspective being required what for example is one way that has been interesting or it's just a small sort of hint is basically if you have quite a lot of body text on your on your site when there's a larger chunks of text text might be worse to just to consider to load that particular text that is making sort of the most part of the screen being loaded in in a system font whereas for example headlines that might be more important to be driven by a web font that is particular to your brand to be relying down electives so basically trying to maybe also progressively try to use more system fonts if possible yeah yeah and then like obviously there are cases where you can avoid a web font and and you totally understand that so in this scenario we basically need to think about how can we actually use web fonts but but you know optimize them and ensure that it doesn't negatively impact our site and the rendering of our side because as Lucas explained earlier on the first three four five seconds are like the most crucial ones in terms of like conversion in terms of like getting people to your site keeping them on your side so you really want to make sure you know just using a web font as it doesn't actually negatively impact that so so what are actually the D complications with web or custom funds and and and actually quite a few because we obviously have have you know different different platforms and and within four platforms there are different requirements so like we got like in an explorer we got iOS like Safari browser we got Chrome Firefox Opera and not all of those browsers support the same file format so basically what you get from that is like that you have different loading times on different browser in different browsers seven different platforms and based on that you get issues with the rendering the file sizes are different different you have the latency issue especially over 3G networks and as a result from all that you get like this flash of invisible text and we basically counter that later on and and and this is really kind of like the worst scenario and that's something you really should avoid and basically the whole search that we're doing right now is kind of like trying to reinforce eyes that flash of invisible Texas it's just really not a good practice so it's really important to kind of like get down to like you know in what format do I need my web font in order to render it on on all platforms all browsers it is already some improvement so you got like WOFF to wish which is much much quicker to load and then the other file formats however it's it's not yet it's not yet usable and on all platforms so for example Internet Explorer IDE it doesn't support it and if we just swap to this next slide you can basically see the difference in size between a WOFF too fond and the original ones so like you can see like the red line is the optimized font and you can really see the decrease of of weight which is basically we're talking about kilobytes here and I think that's always the misperception that kilobytes is so small and you're sitting at home on your mobile everything renders quickly that you say like okay and actually doesn't pick my side but really on 3G what we really want to emphasize is like it really matters every kilobyte matter select if you can use WOFF to definitely do it because you're really having a chance to make a positive impact and there's I mean very simple convert is just online that you can find very quickly where you go and they the well file and get it off to about so okay so there is two ways that we want to look at today working with local storage and then into a little bit more depth looking into the different web fonts so basically we opened up the discussion okay can you can you avoid about fonts at all but now we want to if you can great some kind okay let's go lookie but now we want to look into the first step which is a technique that you think is it's quite interesting it has been working very well in our test as well as with different providers who have that life like Smashing Magazine or or The Guardian at the moment which is looking into leveraging local starch to get your front much quicker on the screen basically plus saving it in local storage so that for any further any further visit we have to fund being ready and so basically the idea is that you store like I said before the web fonts in local storage so we take the basically the code of the fund and declarations which is encoded as string through base64 and there is a tool which basically does all the work for you so local one basically converts your phone family files into a ready to use solution for that which base gives you the CSS as well as to activate those users through the JavaScript and yeah so basically that code is being a code that local font grades for you is being placed in the CSS and after the first after the load event being then stored in local storage so that means we have in most scenarios we have a small invisible of unstyled text flash of unstyled text so we see we see a system font for a short term have a switch from the system font to the web font that is now stored in local storage and then for any further visit we have the we have the particular font that you've been choosing and encoding ready for the user in local storage so and I think the two proofing tools are really local font or the link is also in the in the explanation which basically lets you take your file throw it in the in the tool you get the CSS code in the JavaScript that actually makes that possible as well as fonts diameter it could be a good tool to use here to you know play a little bit with the system font so that you the system font as well as the font that you are using to upload to just try to minimize the flesh of the unstyled text are we going to go into this idea of size of answer takes in much more depth but he is sort of just a couple of pointers if you are if you aim to leverage local storage to number one get get the phone files quickly because there is there's fast access volume through CSS and to safety file requests especially for for future visits given the victim sitting in in local storage there's much more details on this of this day I'm happy to share like most even there's like a nice session on that online and the two tools are linked in me in the comments yeah I think that's just a rough overview of or you could be there be curious to hear from you guys how are you leveraging this again some providers leverage already average it already our tests here you on the right side we've been able to get the fun magically got then then even Google phones and which is another story that we would like to go into but it's been working really well yeah so let's just swap them to the web fonts and just again like there are some some of our colleagues in the life chances are you have any questions to what you just said just type it away and we're trying to pick it up in this session all right so let's go to web fonts and basically we would like to quickly up into the google fonts at Google note of fonts and I will be covering how to work with google fonts and how to optimize Google Forms in terms of loading time and the first thing is that many sites on the internet use the same fonts so basically what happens is you know you visit maybe one newspaper and they might use open sans and then you go to some networking side and they use open stance and basically while well this is really good like you can you can also ensure that you that you use this coverage of the same font across multiple sides to optimize because if you don't actually load the Google font like let's let's just stick with the example of open sans like you can you can use the link that's that's provided by Google and you can load it through our link onto your side or you can use the font hosted yourself and then load it and and the problem is if you load it yourself is that even if like that if it user visits your side that has visited another site that used open sense before he will still have to redownload it because the browser doesn't actually recognize that this font is already in the cache however if you do use the Google link to to implement the font then you get like this effect that the browser connects your side and sees okay I already have that phone in cache I don't need to download it again and obviously the benefits are are quite clear you don't need to download it several times you reduce the the amount of bandwidth needed to render your side there is less latency and therefore your side renders quickly and more quickly so we really really recommend it like if you use a popular font such as open Santo Roboto use it like loaded through three googling because chances are really high that that is already in cash I want to talk about that a little bit more so basically yeah that's kind of like the way you would enable it the cross caching so you know in stuff like using your URL use fun stuff cool API scum slash and then whatever font you would like to use it really is the better way of doing it in any case so like even if you don't use open sans or one of the guys in the common sense like he's using a boon to like even then there are higher chances that you know someone visits your side and hasn't already in cache then if you just serve it from your own server because then most likely you know the the the user acts are visiting your site has to download it so so that's basically just the way we would recommend you to do it and yeah definitely I highly recommend it use the fonts of people API stuff calm you RL in order to load the font and in terms of caching it what I wanted to touch his that that like really Google I provides one of the most you know widely used fonts on the internet and if we actually look at the numbers here then we see like that the top 100 families are used on like more than 300,000 domains and then the top 400 on more than 50,000 domains like we're really talking about large large numbers and those are like really the top sides of that user like use the fonts the Mondo's we really recommend if you can and if you want to use a web font that opens and some Roboto is a really good choice just because we are looking at really really high cache rise we don't have exact numbers yet but it's like you know you might be lucky in habit like you know north of like 50 60 or 80 70 percent don't want to go to specific here as I you know as I don't have like exact figures here but you know like open sense of Roboto are like we really widely popular phones and if you load them through the official Google link there's really high chance at you that the users don't even have to download it so that's really like just one recommendation we can give you to do it that way and I mean that's just like a quick slide on like how to actually use it again it's like you know we obviously created Google Fonts for like simplicity like how can you in able to implement custom or web fonts with that you know like two one two easy steps just for those that are not familiar with it with it I suppose probably most of you are but so basically all you have to do is like you add a single line you know of reference code into the part of your website and then in order to style the font you choose the font family that you're actually importing and that's really it and I mean as you can see you get the results quickly um but yeah I always keep in mind you know only use web fonts if it's really necessary don't just play around with it don't just use it you know for for the sake of having you know multiple fonts on your side if it's not required we still recommend to not use it yeah and if you do try to leverage as much as you can of the opportunity of cross-site caching but that's what we really see to be the big win in the end you can optimize a lot but if it's already there then you have to optimize just a template okay just a quick note in case that you're working with sites that serve across various countries I have to basically of firmly all you guys do but just if you want to cover quite a bit of various languages and the according characters there's the project of neutral fonts actually kind of funny the name coming from no more tofu so we don't want to see these little nice squares on the screen anymore if the characters are not identified so if you're working in an environment where it's important to keep sort of the same same experience for the users so having an an equally strong experience across all the different language is in terms of aesthetics and as well as and obviously in them being loaded I think it's good to have a look at neutral fonts I'm gonna go much more in detail for this and at the very moment but just you have a look at that project might be beneficial for your team or for your your particular project okay so we've been talking about the flesh of the invisible text a little bit and now basically the core issue is that the browser is kind of thinking hey there is fun coming but it just takes time to get it and it might even render like a couple of under linings or in this case a couple of bullet points before and depending on which network the user is on and what basically in this situation of the user we might actually have that experience for a couple of seconds going on so these are seeing like black lines on the screen a couple of bullet points while we actually want to transfer a message to them and give them content and yeah basically we want to look a little bit more in depth into how we can avoid that that flash invisible text and just a quick comment on that so like there's also like another pitfall here or select for example yeah if you if you basically build on a method of invisible text like you're waiting for the photo web font or the custom form to render you might face the issue where like the browser waits forever because for example the Chrome browser has like a three-second time on so like four three like three seconds the browser waits for the web for the custom fonts if it doesn't load within that time frame like a fallback font will be displayed anyway but that timer doesn't exist in all browsers so the other browsers dead if your web font or custom phone doesn't load the browser is waiting forever and if there is some server connection error and you have to like through a few round trips until you load the font you might be waiting for 10 20 seconds because the browser is waiting for that font so just think about it like how that would hurt your conversion rate if you you know you put all the effort into getting to people on your side and then because of such a little glitch no content is presented to the user and at one point the user bounces so so that's why it's really really important to to optimize more for yun flashed tanks rather than the invisible already answering so like yeah thanks for the comment so far and you know if you have more please just let us know um yeah so basically just you know switching from invisible text to unstyled text you know I know from a design perspective it's not great um so you know I know from myself or like a you know I would I would do a little side or something I would kind of like not like this this flash I would load a beautiful side and then like for like two three four seconds you have like suddenly this flasher that looks different so we understand it's not ideal um but I think you know you always need to kind of like find a middle so like if you use WebP or castle phones you're sort of like battling with either unstyled or invisible and we just believe that the screenshots we see right now like the chip that's a better scenario then the one before like I'd rather see some unsolved content and then have it beautified later on then like just feel like bullet points and underlines and and basically nothing because I think that just looks just as weird so yeah we really like highly recommend found over five and yeah so like basically and and that sort of will answer it counts questions so yeah thanks for the questions so how do you actually achieve loading a web font efficiently and without a render block and and and our suggestion here is to do a synchronous Lisa like as we said found it's better than Floyd and what you can do is like that you load the web font on the onload event like you start the rendering of the page you load the page then you load the web font in the custom font and then basically you replace it once it's fully downloaded so while all this is happening you can use a fallback font and there are some some neat features there are so many tools that you can use to match the system font as closely as possible to the web font that you're using it's linked in there and their comments as well or in the description of the YouTube video you find the font style mature done by another Googler as well actually at the same pain trying to match try to minimize the actual files as good as possible yeah exactly so that's that's really cool to use and and again like I think you will see like once you try it out that it's not even that bad and and you can really just focus on delivering the important messages to your users right away because this is in the end like you know if I visit a website or if I build a website and I put the most important content above the phone because this is what I wanted to support to the user and it's just really important that the user sees that content so this is just a small example of how it could be done we will post links to the article you said it's in the comments so check out the article it's a it's a really cool article it explains how you can do it obviously there are different ways of how to lazy load funds so like you don't have to choose the the way that we are suggesting here but definitely focus on that like load assistant font and then swap it once custom font is downloaded and yeah you could just want to show you one example we we ran and we basically performed this test on the side we're like before we were we were loading a custom font there and after we we basically we will be removed a custom font and then we compared to speed index off of the off the same side and it's quite significant so like just by removing consolute funds from like blocking the render you see like an improved speed index by like two thousand and and and that's that that's pretty significant so you can really see that like if you just optimize the phone obviously you should still focus on other things you should still focus on optimizing you know other resources I see is s JavaScript or whatever it might be but like just by optimizing a web font you can speed up the rendering of your site like the very importance you know first first paint like almost two seconds and that's really huge so like I think that just like shows how important it is to focus on found optimization and choose the unsub tanks already invisible text yeah and yeah the bunch of the unstyled text being I mean sort of a trade-off decision right because obviously there is a lot of push back into loading system funds the beginning but I think it's exactly as Dominic went through in this scenario it is ready to go to get content as quick to the + to the user as possible please taking into consideration the actual network experience many users will have which might result in yeah the web font a beautiful font will load at some point but when is that point and is that a point where the user is even still there and given the numbers that we're seeing it's really important to take into consideration that they might not be be there anymore and reload that font as quick as quick as possible good do we have some more comments other questions yeah we're just waiting for comments right now if you have any any questions to what we said right now just please type away and we're happy to chance right it would be definitely they're interesting to see what you guys which kind of experiences you guys have looking into more depth in this be definitely going to be running further sessions so also leaving for example in it said further topics that you would like to discuss in more depth in the future could be one thing that is very helpful and also just letting us know if you need one deeper inside on very specific issues because definitely our goal here in Google is to try to make it as hands-on for you guys as possible so that you can basically you know sit down take the tools and try a little bit so we link the the techniques or a description of the technique for the localstorage technique already in there the tools already in there so you can play with them obviously a little bit Francis it's easy easy to find interested at the article that Dominic just mentioned where we go through we're gonna for this year goes through the different ways of implementing the flesh of anesthetics we put it also in there so did you really have something hands-on to work with and we would be so we're gonna be running the next hangout in about four weeks and we would be very curious to hear your experience in the now the next couple of weeks with this particular topic sort of which which conversations you guys have with your teams if there is any pushback from design which is very understandable and yeah yeah and I'm obviously like what really interested to to learn is also like if you decide to go ahead today or tomorrow and actually implement like a like one or two of our recommendations you know just really let us know like you know maybe run test yourself or or just you know post the the URL where you read it the test on we just three curious to learn how it works for you what the improvement is and in terms of speed index so like definitely like you know get in touch with with you know with your results and yeah we were always here to you know to learn more and maybe like maybe you face certain problems that that we can think of right now and like you know please let us know as well and we you know might be able to do a follow-up on that or something yeah we would send you a quick follow-up survey actually bleep and let us know and we can try to optimize further sessions for you guys because the goal is really to share would be in Google CSS strong approaches and what we see success with all kinds of it yeah and we just have one question is it possible to see the speed index value somewhere inside chrome console the speed index value note you can you can see the rendering in the load time but like to get the value you need to go to webpagetest.org run your site through through that tool use 3G fast as a connection type and use a server that's close to you know it comes to you so like if your base in the UK and you should choose for example the London server or a Southampton server and that's where you can get the speed index value from and there's another question would you suggest moving away from font icons in general I mean one thing is definitely to chop the file just to the icons that are relevant so font ello is a good tool to leverage too because what we see very often with lines is a huge set of icons being loaded that are not being required so that's one thing you can say yeah I mean just as you said like just try to to limited minimize the amount of resources you you you you you want to load another question is just declaring the same multiple funds and different style sheets decrease the size speeds so if you have different style sheets and you declare the same font um then basically you will download it once and the browser will cache it obviously only if you use the same link in you style treat if you're talking about multiple phones at different style sheets then then we're talking about you just need to see like this one set that font is downloaded into the browser of the user it's cached for you know for for the browser session for example but if you use different fonts in different style sheets each time it's a new font that the user the users browser hasn't downloaded yet it will be it will be downloaded so you basically deep freezer increase the rendering time Sandra is asking how to loads acing so let me just post a link because I think we only put the link to the phone so measure into the comments so and any other link that is mentioned that not in there at the moment will obviously be added straight after the session stuff that just came up in the conversation thank you so I just posted quickly in the comments so you can have a look right now okay we'll add it to the comments because it doesn't actually let you post a URL at the moment so I'm so we'll add that to the comments so you can you can have a look there um so yeah just read through it or any other yeah I know sort of apart from this again we're gonna send out a little small little survey to just here because we really try to make it the best experience for you so and really hear back from your experience your conversations that you having because the ultimate goal was going to share knowledge only but to implement on the sides get the text being visible quicker to the user and it will be a few a couple of pointers into the right direction anything left Dominic that's that's all from from our end and again we will take our time now and read through the comments and the ones that we didn't have time now to answer will we will post links in the comment section off the video and yeah we appreciate everybody who took the time and yeah it's just nice getting a lot of us together caring about speed and going big into the depth of this this so that's an interesting copy that's it now cool guys thank you thank you very much and see you next time next month		