alright guys welcome to your 33rd html5 tutorial only two more functions to go until we have a nice fine working video player and in this tutorial I'm going to show you guys how to update the progress bar because right now if we go ahead and check out our website launched in Chrome we have a nice default bar on the bottom but we don't have a progress bar at all we don't have that blue bar that's moving so in this story I'm going to show you how to get that blue bar that moves along with your video as your video plays so under your player pause function go ahead and make a function called update now why do we need to name it update because that's what we caught it whenever we said okay set interval and call this function every half a second when our video is playing so this is the function that's going to get called every half a second depending on you know what time you set in milliseconds in your set interval so let me just go ahead and hit function and mine is called update and it's not going to take any parameters and it's just going to do some grunt work like before now the very first thing we need to do is we need to check if your movie is playing or if it is not playing so go ahead and add a nice little if statement and I'm just going to go ahead and copy this right now if the movie has not ended so I'm just going to go ahead and say okay if the movie has not ended then it must be playing or it must be somewhere in the middle of the movie so when it is playing or you know basically when it has not ended what I need to do first is calculate how big I need the bar to be so before we can plop it on its screen we need to calculate the size of it so go ahead and make a variable just call it size and I'm going to set this equal to parse int and what this is going to do is it's going to take the calculation and round it to the nearest integer basically or turn it into an integer whenever you parse something you pretty much force it to be an integer and I'm just going to give you guys the formula for this I don't want to talk you guys through it too much it's my movie which is our video in current time actually need to set it like that current time with a the tea needs to be a capital and you need to multiply it by the bar size now that's why we took the bar size and we actually got that from the width of the default bar it's the size of this yellow bar right here and we actually can put 600 right in here like this but since we may change that later on and since you guys are programming this follow-on long in me you may have different size let's just go ahead and use that variable bar size and set it over my movie dot duration make sure I spelled that right and it looks good go now a couple things I want to point out first of all take the current time or you know if this video was like four minutes long the current time would be like two minutes and you're going to multiply it by 600 in this case and divided by the total duration of your movie which would be like four minutes or something and that's going to give you the size in pixels of however long your bar needs to be now don't worry about the formula I don't really want to explain that but what i would do want to point out is this current time property in the duration property saying how the heck does your website know the current time in the duration of your video well that's something cool that we got along with javascript and html5 whenever video was playing your browser already knows how long that video is and also we're in that video pretty much the current time of that video so those properties are already built in we don't need to build extra functions for that so how cool is that again like I said browsers are really smart nowadays so might as well take advantage of it so now what we need to do is we already have the size and pixels of the progress bar stored in the variable size so now we need to say okay CSS instead of this default zero pixels we need to change the width of the progress bar however we just can't go ahead and change it right here every time so how do you access a CSS property through JavaScript I'm going to show you guys an awesome way to do that the very first thing you need to do is get whatever element you are working with we're working with the progress bar so go ahead and hit progress bar now in order to change any style any CSS property just go ahead and hit style and now after that hit what property do you want to change well we want to change the width and you say okay you want to change width now what do you want the width to equal well we want to eat to equal the number of pixels in other words that size variable however we just can't say with equals 250 we need to say with equals 250 pixels with equals to 50 inches width equals 250 miles so we need to add px on the end of this so in order to do that you write your variable which is size say this is like 80 or something it's going to be 80 plus and I think I might accidentally hit caps lock there nope I didn't Plus and in single quotations put px so then if this calculates to 80 it's going to be changed with 280 pixels if it calculates the like 120 change the width to 120 pixels and this function is going to get called over and over and over again now it's probably going to more likely than not it's going to grow by like one pixel every second so the size of this entire bar is going to change by one pixel it's going to get wider and wider every second so now that this is basically what happens when the video is playing however what we need to do is we need to set another bit of code and let me make sure I didn't forget my semicolon there you go so this is what happens whenever the video is playing or whenever the video has not ended however whenever the video does end what do we want to happen well the first thing that we need to do is we need to reset this to zero pixels because we want to put our progress bar right at the very beginning so what we can do in this case is actually get rid of this variable right here because you know we don't need to calculate anything we can just write zero pixels just like that another thing that we want to do is we need to change the button text to play so if the video is playing remember the button text is pause now what we want to do is we want to set that to play and we already to that so let's copy that and change it to play so basically whenever your video plays and it ends and it's pretty much going to stop and we want to set that button to play again unless they want to watch the video again or something and the last thing we want to do is what this update function is going to do is it's going to change the size of the progress bar as we just saw so whenever the video has stopped and it's not playing or it's paused or something we don't want them to update the size we want it to stay zero pixels so again what we need to do is we need to say okay clear interval of the update bar in other words pretty much stopped updating remember I talked about that in the last tutorial so that is all I have to code in this tutorial basically to recap one last time this update method is responsible for changing the width of the progress bar as the video is playing again this progress bar is going to grow in width as the video is playing it's going to change size so when the movie has not ended as the video is playing it's going to calculate how big it needs to be and it's going to change it through CSS it's going to change width of that progress bar however when the video has stopped say got to the end what it's going to do is it's going to reset that to zero make the text on the button say play and it's going to say stop updating or stop changing the width of that progress bar because you're not playing you're just paused you don't need to change widths so that is all we have to do for this function in the next story what we're going to be doing is we're going to write we pretty much took care of all the button functionality but we also want them it's able to scroll through depending on where they click on this default bar right here so we're going to be coding that function in the next tutorial and then that is our very last function then we can test this baby out and you know I can show it off to you guys and you can show it off to your mom and dad whoever you want to so there you go I can't wait I'm super excited so thank you guys for watching and yeah I'll see you in the next door		